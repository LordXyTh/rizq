{% extends "base.html" %}

{% load humanize %}

{% block content %}
  <style>
    table {
      text-align: center;
    }
  </style>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
        <h1 class="text-center">Stock List</h1>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Symbol</th>
              <th>Name</th>
              <th>Price</th>
              <th>Market Cap</th>
              <th>Weighted Market Cap %</th>
            </tr>
          </thead>
          <tbody>
            {% for item in stocks %}
              <tr>
                <td>{{ item.symbol }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.price|floatformat:2 }} PKR</td>
                <!-- Format as price in PKR -->
                <td>{{ item.market_cap|floatformat:0|intcomma }} PKR</td>
                <!-- Format market cap in PKR -->
                <td>{{ item.weighted_market_cap|floatformat:2 }}%</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="col-md-2">
        <form class="form-inline mt-5 ml-5">
          <div class="form-group">
            <label for="investmentAmount" class="sr-only">Your Investment Amount</label>
            <input type="number"
                   class="form-control"
                   id="investmentAmount"
                   placeholder="Investment Amount" />
          </div>
          <button type="submit" class="btn btn-primary ml-2 mt-2">Submit</button>
        </form>
      </div>
    </div>
  </div>
{% endblock content %}
